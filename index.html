<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å­¸ç”Ÿé»æ•¸æŸ¥è©¢</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body { background-color: #f0f2f5; font-family: "Microsoft JhengHei", sans-serif; height: 100vh; display: flex; align-items: center; }
    .query-card { border: none; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); width: 100%; max-width: 400px; margin: auto; padding: 30px; background: white; }
    .btn-query { background: #4e73df; border: none; font-weight: bold; padding: 10px; }
  </style>
</head>
<body>
  <div class="query-card text-center">
    <h3 class="fw-bold mb-4">ğŸ“ å­¸ç”Ÿé»æ•¸æŸ¥è©¢</h3>
    <input type="text" id="stuId" class="form-control mb-3" placeholder="è«‹è¼¸å…¥å­¸è™Ÿ">
    <input type="password" id="stuPwd" class="form-control mb-3" placeholder="è«‹è¼¸å…¥æŸ¥è©¢å¯†ç¢¼">
    <button class="btn btn-primary btn-query w-100 mb-3" onclick="doQuery()">ç«‹å³æŸ¥è©¢</button>
    <div id="result"></div>
  </div>

  <script>
    const GAS_URL = 'https://script.google.com/macros/s/AKfycbxttHK1WfAGKvQADn15CM13vaaIVOeko-HaQ6qPfldFOyASts_CA2zZxai37-0jESJO/exec';
    async function doQuery() {
      const id = document.getElementById('stuId').value;
      const pwd = document.getElementById('stuPwd').value;
      if(!id || !pwd) return alert('è«‹å®Œæ•´å¡«å¯«å­¸è™Ÿèˆ‡å¯†ç¢¼');
      
      document.getElementById('result').innerHTML = "æŸ¥è©¢ä¸­...";
      const res = await fetch(`${GAS_URL}?action=studentQuery&id=${id}&pwd=${pwd}`);
      const data = await res.json();
      
      if(data.success) {
        document.getElementById('result').innerHTML = `
          <div class="alert alert-success mt-2">
            <b>${data.name}</b> åŒå­¸ï¼š<br>ç›®å‰ç¸½é»æ•¸ç‚º <span class="fs-3 fw-bold">${data.points}</span> é»
          </div>`;
      } else {
        document.getElementById('result').innerHTML = `<div class="alert alert-danger mt-2">${data.msg}</div>`;
      }
    }
  </script>
</body>
</html>
